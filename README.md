# Проект по инфобезу 1

## Описание проекта
Данное консольное PHP-приложение на фреймворке Symfony предназначено для проверки существования и регистрации домена, получения IP-адреса (тип DNS-записи «A»), чтения DNS-записей с типом MX для получения списка серверов обработки почты, извлечения IP-адресов почтовых серверов и запроса PTR-записей.

## Установка и запуск
1.	Клонировать репозиторий с проектом с GitHub.
2.	Установить **Docker** и **Docker-compose**, если они не установлены.
3.	В терминале выполнить команду `docker-compose build` для сборки контейнера.
4.	Запустить приложение с помощью команды `docker-compose run --rm -e DOMAIN_NAME=vl.ru domain`. **Примечание:** доменное имя можно заменить на любое другое.

## Пример вывода
После выполнения команды `php bin/console domain:check vl.ru` результат будет следующим:
```
IP-адрес домена vl.ru: 195.88.225.208
Почтовый сервер: mx.vl.ru, IP-адрес: 195.88.225.143, PTR-запись: m.vl.ru
Почтовый сервер: mx.vl.ru, IP-адрес: 195.88.225.144, PTR-запись: m.vl.ru
```

# Проект по инфобезу 2

## Описание проекта
Данное консольное PHP-приложение на фреймворке Symfony предназначено для проверки фишинговых писем, которое позволяет сисадминам и обычным пользователям отличать поддельные письма от фишинговых.

## Шаги выполнения кода
1.	Подключение необходимых библиотек через **Composer**.
2.	Извлечение домена из поля **From**.
3.	Получение SPF-записи для домена.
4.	Парсинг SPF-записи и извлечение диапазонов подсетей.
5.  Извлечение IP-адреса отправителя из заголовков **Received**.
6.  Проверка принадлежности IP-адреса диапазонам подсетей.

## Установка и запуск
1.	Клонировать репозиторий с проектом с GitHub.
2.	Установить **Docker** и **Docker-compose**, если они не установлены.
3.	В терминале выполнить команду `docker-compose build` для сборки контейнера.
4.	В терминале выполнить команду `docker-compose up -d` для запуска контейнера.
5.	В терминале выполнить команду `docker-compose run --rm php bash` для входа в контейнер.
6.	Запустить консольное приложение с помощью команды `docker-compose run --rm -e EML_FILE=/app/eml/eml1.eml email`. **Примечание:** путь к EML-файлу можно заменить на любой другой.
7.  Для доступа к веб-сервису открыть браузер и перейти по следующему адресу: `http://localhost:8080/analyze`. **Примечание:** для анализа писем можно выбрать любой EML-файл.

## Пример вывода
После выполнения команды `php bin/console eml:check /app/eml/eml1.eml` результат будет следующим:
```
Адрес отправителя: vl.ru <admin@vl.ru>
Извлеченный домен: vl.ru
SPF-запись для домена vl.ru: v=spf1 ip4:185.44.0.0/22 ip4:195.88.225.128/25 include:spf.unisender.com ~all
IP-адрес отправителя: 192.3.244.200
IP-адрес отправителя 192.3.244.200 не соответствует SPF-записи для домена vl.ru.
```

## Тесты
Для проверки работоспособности кода был реализован тестовый скрипт на PHP, который определяет IP-адрес отправителя. Запуск тестов осуществляется с помощью команды `php test/test_script.php`.

## Бонус
Проект упакован в **Docker-compose** для удобного развёртывания и использования.

## Репозиторий проекта
Проект доступен на GitHub по [ссылке](https://github.com/kawa11Tensh1/DomainCheckerCommand.git).